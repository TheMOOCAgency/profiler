(this.webpackJsonpprofiler=this.webpackJsonpprofiler||[]).push([[0],{250:function(e,t,a){e.exports=a(445)},258:function(e,t,a){},444:function(e,t,a){},445:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(15),i=a.n(l),o=a(45),c=a(18),m=a(202),u=(a(258),a(31)),s=a(488),d=a(494),b=a(500),p=a(495),f=a(490),E=a(3),g=a(446),y=a(497),x=function(e){var t=e.children,a=e.value,n=e.index,l=Object(E.a)(e,["children","value","index"]);return r.a.createElement(g.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"scrollable-auto-tabpanel-".concat(n),"aria-labelledby":"scrollable-auto-tab-".concat(n)},l),r.a.createElement(y.a,{p:3},t))},v=a(137),h=a.n(v),k=a(203),j=a(19),O=a(499),w=a(498),S=a(492),C=a(503),F=a(501),N=a(491),q=a(447),z=a(6),T=a(489),I=Object(s.a)((function(e){return{root:{margin:"10px 0 50px 0",backgroundColor:"#b71b53",width:"300px",color:"white",border:"none","&:hover":{backgroundColor:"#353535"},"&:disabled":{backgroundColor:"#353535",color:"white"}}}})),R=function(e){var t=e.children,a=e.onClick,n=e.disabled,l=I();return r.a.createElement(T.a,{variant:"outlined",onClick:a,className:l.root,type:"submit",disabled:n},t)},B=a(23),_=function(e){var t=e.data,a=e.test,l=a.requiredForms,i=a.topic,o=Object(n.useState)(200),c=Object(u.a)(o,2),m=c[0],s=c[1];Object(n.useEffect)((function(){s(l?200+100*l.length:200)}),[m,l]);return r.a.createElement(f.a,{container:!0,mt:5,justify:"center"},r.a.createElement(B.e,{width:"100%",height:m},r.a.createElement(B.b,{data:t,layout:"vertical",style:{fontSize:"12px"}},r.a.createElement(B.f,{type:"number"}),function(){var e=["#b71b60","#353535","#949b9f","#b71b60","#353535","#949b9f","#b71b60","#353535","#949b9f","#b71b60","#353535","#949b9f"];return l?l.map((function(t,a){return r.a.createElement(B.a,{dataKey:t.id,name:t.name,fill:e[a],key:t.id})})):r.a.createElement(B.a,{dataKey:"testTotal",name:i},t.map((function(t,a){return r.a.createElement(B.c,{key:"cell-".concat(a),fill:e[a]})})))}(),r.a.createElement(B.g,{dataKey:"name",reversed:!0,type:"category"}),r.a.createElement(B.d,null))))},K=function(e){var t=e.data;return r.a.createElement(f.a,{container:!0,mt:5,justify:"center"},r.a.createElement(B.e,{width:"100%",height:200},r.a.createElement(B.b,{data:t,layout:"vertical",style:{fontSize:"12px"}},r.a.createElement(B.f,{type:"number"}),r.a.createElement(B.g,{dataKey:"name",reversed:!0,type:"category"}),r.a.createElement(B.a,{dataKey:"mark",stackId:"a",name:"Mon score",fill:"#b71b60"}),r.a.createElement(B.a,{dataKey:"rest",stackId:"a",name:"Autopositionnement",fill:"#949b9f"}))))},L=Object(z.a)({root:{color:"#b71b53","&$checked":{color:"#b71b53"},margin:"0 auto"},checked:{}})((function(e){return r.a.createElement(F.a,Object.assign({color:"default"},e))})),M=Object(s.a)((function(e){return{questionLine:{borderBottom:"1px solid rgba(75,75,75,0.2)",padding:"20px 0"}}})),U=[],A=function(e){var t=e.answers,a=(e.salut,e.input),n=e.meta,l=n.error,i=n.touched,o=Object(E.a)(e,["answers","salut","input","meta"]);return r.a.createElement(C.a,null,r.a.createElement(f.a,{container:!0,direction:"row",alignItems:"center"},r.a.createElement(N.a,Object.assign({},a,o,{row:!0}),t.map((function(e){return r.a.createElement(S.a,{style:{opacity:"".concat(.5+e.value/15),width:"100px",display:"flex",margin:"0 auto",justifyContent:"space-around"},key:e.value,value:e.value.toString(),control:r.a.createElement(L,null)})}))),r.a.createElement("h5",{style:{color:"#353535",fontSize:"12px",margin:0,fontStyle:"italic",opacity:"0.6"}},i&&l)))},X=Object(w.a)({form:"",enableReinitialize:!0,validate:function(e,t){var a={};return t.test.questions.map((function(e){return-1===U.indexOf(e.id)&&U.push(e.id),U})),U.forEach((function(t){e[t]||(a[t]="Champ requis")})),a}})((function(e){var t=e.handleSubmit,a=e.pristine,l=e.submitting,i=e.test,c=i.questions,m=i.answers,s=i.button,d=i.type,b=i.result,p=i.name,E=i.drivers,g=i.requiredForms,y=i.topic,x=Object(n.useState)(!1),v=Object(u.a)(x,2),w=v[0],S=v[1],C=Object(n.useState)({}),F=Object(u.a)(C,2),N=F[0],z=F[1],T=Object(n.useState)([]),I=Object(u.a)(T,2),B=I[0],L=I[1],U=Object(o.c)((function(e){return{results:e.form[p].values}})).results,X=M();Object(n.useEffect)((function(){"likert"===d?z({questions:4,blank:1,answers:7}):"true-or-false"===d&&z({questions:7,blank:1,answers:4})}),[d]);var D=function(){return r.a.createElement(f.a,{container:!0,direction:"row",justify:"flex-end",style:{borderRadius:"5px",padding:"10px",color:"#353535",border:"2px solid #b71b53"}},r.a.createElement(f.a,{item:!0,md:N.questions,sm:!1}),r.a.createElement(f.a,{item:!0,md:N.blank,sm:!1}),r.a.createElement(f.a,{item:!0,md:N.answers,sm:12,style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(f.a,{container:!0,direction:"row",alignItems:"center"},m&&m.map((function(e){return r.a.createElement("div",{key:e.value,style:{width:"100px",fontSize:"12px",textAlign:"center",fontWeight:"600"}},e.name.toUpperCase())})))))},J=function(){var e={},t=[];"true-or-false"===d?(e={name:i.topic,mark:0,rest:100},c.map((function(t){return console.log(t[U[t.id]]),e.mark+=10*t[U[t.id]],e.rest-=10*t[U[t.id]],e})),t.push(e),L(t)):"likert"!==d||g?"likert"===d&&g&&(g.map((function(t){return c.map((function(t){return t.subTopic?e:e[t.driver]?e[t.driver][t.form.id]?e[t.driver][t.form.id]+=Number(U[t.id])*Number(t.form.coef):e[t.driver][t.form.id]=Number(U[t.id])*Number(t.form.coef):e[t.driver]=Object(j.a)({name:E[t.driver]},t.form.id,Number(U[t.id])*Number(t.form.coef))}))})),t=Object.values(e),console.log(t),L(t)):(c.map((function(t){return e[t.driver]?e[t.driver].testTotal+=Number(U[t.id]):e[t.driver]={name:E[t.driver],testTotal:Number(U[t.id])}})),t=Object.values(e),console.log(t),L(t))},P=function(){var e=Object(k.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J();case 2:return S(!0),e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(f.a,{style:{marginBottom:"30px"}},r.a.createElement("form",{onSubmit:t(P)},r.a.createElement(n.Fragment,null,y&&r.a.createElement("h4",{style:{margin:"0",fontStyle:"italic",padding:"10px",backgroundColor:"#b71b60",color:"white",borderRadius:"5px",fontSize:"14px"}},y.toUpperCase())),r.a.createElement(n.Fragment,null,!g&&r.a.createElement("div",{style:{marginTop:"10px"}},D())),r.a.createElement(q.a,null,r.a.createElement(n.Fragment,null,c&&c.map((function(e){return e.subTopic?r.a.createElement(f.a,{container:!0,direction:"column",key:e.subTopic,style:{color:"#353535",margin:"30px 0 20px 0"}},r.a.createElement(f.a,{item:!0,sm:12},r.a.createElement("h4",{style:{margin:"0 0 10px 0",fontStyle:"italic",padding:"10px",backgroundColor:"#b71b60",color:"white",borderRadius:"5px",fontSize:"14px"}},e.subTopic.toUpperCase())),r.a.createElement(f.a,{item:!0,md:7,sm:12,style:{textAlign:"justify",fontStyle:"italic",fontSize:"14px",paddingLeft:"10px"}},e.wording),r.a.createElement(f.a,{item:!0,sm:12},D())):r.a.createElement(f.a,{key:e.id,container:!0,direction:"row",alignItems:"center",justify:"space-between",className:X.questionLine},r.a.createElement(f.a,{item:!0,md:N.questions,sm:12,style:{fontSize:"14px"}},e.text),r.a.createElement(f.a,{item:!0,md:N.blank,sm:!1}),r.a.createElement(f.a,{item:!0,md:N.answers,sm:12},r.a.createElement(O.a,{name:e.id,answers:m,component:A})))}))),r.a.createElement(n.Fragment,null,r.a.createElement(n.Fragment,null,b?r.a.createElement(R,{disabled:a||l},r.a.createElement(n.Fragment,null,s)):r.a.createElement(f.a,{item:!0,md:12,style:{height:"10px",backgroundColor:"#b71b53",borderRadius:"5px",margin:"50px 0",opacity:"0.5"}}))))),r.a.createElement(n.Fragment,null,"histogram"===b?r.a.createElement(n.Fragment,null,w&&b&&r.a.createElement(_,{test:i,data:B})):"stackedBarChart"===b?r.a.createElement(n.Fragment,null,w&&b&&r.a.createElement(K,{test:i,data:B})):void 0))})),D=a(496),J=Object(z.a)({root:{marginBottom:"10px",width:"100%","& label.Mui-focused":{color:"#b71b60"},"& .MuiInput-underline:after":{borderBottomColor:"#b71b60"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#b71b60"},"&:hover fieldset":{borderColor:"#353535"},"&.Mui-focused fieldset":{borderColor:"#b71b60"}}}})(D.a),P=[],V=Object(w.a)({form:"",enableReinitialize:!0,validate:function(e,t){var a={};return t.test.questions.map((function(e){return-1===P.indexOf(e.id)&&P.push(e.id),P})),P.forEach((function(t){e[t]||(a[t]="")})),a}})((function(e){var t=e.test,a=e.handleSubmit,l=e.pristine,i=e.submitting,o=t.questions,c=t.button,m=t.topic,u=function(e){var t=e.input;return r.a.createElement(n.Fragment,null,r.a.createElement(J,Object.assign({id:"outlined-multiline-static",multiline:!0,rows:"6",variant:"outlined",autoComplete:"off"},t)))};return r.a.createElement("form",{onSubmit:a((function(e){var a={name:t.name,values:e};console.log(a)}))},r.a.createElement(q.a,null,m&&r.a.createElement("h4",{style:{margin:"0",fontStyle:"italic",padding:"10px",backgroundColor:"#b71b60",color:"white",borderRadius:"5px",fontSize:"14px"}},m.toUpperCase()),r.a.createElement(n.Fragment,null,o.map((function(e,t){return r.a.createElement(f.a,{container:!0,key:e.id},r.a.createElement("div",{style:{margin:"30px 0 10px 0"}},o.length>1?t+1+". "+e.text:e.text),r.a.createElement(O.a,{name:e.id,component:u}))}))),r.a.createElement(R,{disabled:l||i},r.a.createElement(n.Fragment,null,c))))})),W=a(493),$=function(e){var t=e.skills,a=e.skill,l=t[e.parentIndex],i=l.topic,o=l.wording;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{id:"to-print"},r.a.createElement(f.a,null,r.a.createElement(n.Fragment,null,r.a.createElement(n.Fragment,null,(i||o)&&r.a.createElement(n.Fragment,null,i&&r.a.createElement("h3",{style:{backgroundColor:"#353535",color:"white",padding:"10px",borderRadius:"5px",margin:"0 0 10px 0",fontSize:"16px"}},i.toUpperCase()),o&&r.a.createElement(f.a,{item:!0,md:7,sm:12,style:{textAlign:"justify",fontStyle:"italic",fontSize:"14px",paddingLeft:"20px",marginBottom:"10px"}},o)))),r.a.createElement(n.Fragment,null,a.tests.map((function(e,t){return"likert"===e.type?r.a.createElement(W.a,{key:t},(function(){return r.a.createElement(X,{test:e,form:e.name})})):"true-or-false"===e.type?r.a.createElement(W.a,{key:t},(function(){return r.a.createElement(X,{test:e,form:e.name})})):"free-field"===e.type?r.a.createElement(W.a,{key:t},(function(){return r.a.createElement(V,{test:e,form:e.name})})):null}))))))},G=(a(444),Object(s.a)((function(e){return{root:{width:"100%",backgroundColor:"white"},tab:{"&:last-child":{color:"#b71b53"}},paper:{margin:"0",width:"100%",overflowX:"auto",padding:"20px 0"}}}))),H=function(){var e=window.props.fr.skills,t=G(),a=Object(n.useState)(0),l=Object(u.a)(a,2),i=l[0],o=l[1],c=Object(n.useState)(!0),m=Object(u.a)(c,2),s=m[0],E=m[1],g=function(e,t){o(t)};return r.a.createElement(f.a,{container:!0,className:t.root,justify:"center",id:"app"},s&&r.a.createElement("div",{id:"pop-up"},r.a.createElement("div",{className:"content"},r.a.createElement("i",{className:"fas fa-times",onClick:function(){return E(!1)}}),r.a.createElement("div",null,"Le responsive mobile est en cours d'optimisation."))),r.a.createElement(f.a,{item:!0},r.a.createElement(d.a,{position:"fixed",color:"default"},r.a.createElement(b.a,{value:i,onChange:g,variant:"scrollable",scrollButtons:"auto","aria-label":"scrollable auto tabs example",TabIndicatorProps:{style:{backgroundColor:"#b71b53"}}},e.map((function(e,a){return r.a.createElement(p.a,Object.assign({key:a,label:e.name},function(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}(a),{className:t.tab}))}))))),r.a.createElement(f.a,{item:!0,lg:8,md:12,sm:12,xs:12},e.map((function(a,n){return r.a.createElement(x,{value:i,index:n,key:n},r.a.createElement(f.a,{style:{paddingTop:"40px"}},r.a.createElement(f.a,{className:t.paper},r.a.createElement($,{skill:a,skills:e,parentIndex:n}))))}))))},Q=function(){return r.a.createElement("div",{className:"App",style:{display:"flex",justifyContent:"center",width:"100vw"}},r.a.createElement(H,null))},Y=a(502),Z=Object(c.c)({form:Y.a}),ee=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.d,te=Object(c.e)(Z,ee(Object(c.a)(m.a)));i.a.render(r.a.createElement(o.a,{store:te},r.a.createElement(Q,null)),document.querySelector("#root"))}},[[250,1,2]]]);
//# sourceMappingURL=main.51d4129f.chunk.js.map